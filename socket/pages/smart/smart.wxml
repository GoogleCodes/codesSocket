<view class="page">
  <view class="page-bottom">
    <view class="page-content">
      <view class="wc" hover-class='wx-hover' hover-start-time='50' hover-stay-time='500000'>
        <view bindtap='backLogin'>
          <text>退出登录</text>
        </view>
      </view>
    </view>
  </view>
  <view class="page-top" style="{{translate}}">
    <!--
     bindtouchmove="tap_drag" bindtouchend="tap_end" bindtouchstart="tap_start" 
    --> 
    <!-- <image bindtap="tap_ch" src="../../images/btn.png"></image> -->
    <view bindtap="tap_ch" class='icon-liebiao iconfont'></view>

    <!--smart.wxml-->
    <view class="pushMsgFm" hidden='{{ gizwitsVisible }}'>
      <form name='pushMsgFm' report-submit bindsubmit='orderSign'>
        <view class="bodyView">
          <view class="changeText">
            <label>Save</label>
          </view>
          <view class="changeInput" style="float:right;">
            <switch type="switch" checked="{{ switchButton }}" name="switchBtn" bindchange="chonseSocket" />
          </view>
        </view>
        <label class="openMessage">{{ openMessage }}</label>
        <view class="section">
          <picker mode="selector" range="{{ array }}" value="{{ index }}" bindchange="bindPickerChange">
            <view class="picker">当前选择：{{ array[index] }}</view>
          </picker>
        </view>
        <button class="confirm" form-type="submit" hidden='{{ true }}'>设置发送消息</button>
      </form>
    </view>

    <view class='listDevices'>
      <view>请先选择设备：</view>
      <!-- 
          wx:if="{{ item.is_online == true }}"  {{ chonseDid == index ? 'active' : '' }} 
          hover-class="active" hover-start-time='10' hover-start-time='50000'
      -->
      <view wx:for="{{ listDevices }}">
        <view style="font-size: 14px;" bindtap='chonseDid' wx:if="{{ item.is_online == true }}"
              data-index="{{ index }}" data-did="{{ item.did }}" 
              class="view_li {{ chonseDid == index ? 'active' : '' }}" >
          <view style="margin-top: 4px;">did:{{ item.did }}</view>
          <view>mac:{{ item.mac }}</view>
        </view>
      </view>
    </view>

    <!-- 录音按钮 -->
    <view class="fixed-video">
      <button type="primary" bindtouchstart="startRecode" bindtouchend="endRecode" bindtouchmove='mytouchmove' class="cxbtn" hover-class="primaryHover" hover-start-time="10" hover-stay-time="20">按住录音</button>
    </view>
  </view>

</view>